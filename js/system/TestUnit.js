var _this=this;miam("system/TestUnit",[],function(){var t;return t=function(){function t(o){this.done=0,this.ok=0,this.log=[],this.output=null!=o?o:t.outputs.CONSOLE}return t.outputs={CONSOLE:1,HTML:2},t.prototype.appendToLog=function(t){return this.log.push(this.done+"- "+t)},t.prototype.assertEquals=function(t,o){return this.done++,null==t?(this.appendToLog("Fail: first arg does not exist"),!1):null==o?(this.appendToLog("Fail: second arg does not exist"),!1):""+t==""+o||t===o?(this.ok++,this.appendToLog("Success: "+t),!0):(this.appendToLog("Fail: expected "+t+" instead of "+o),!1)},t.prototype.assertWrong=function(t){var o;this.done++;try{return t(),this.appendToLog("Fail: expected to be wrong: "+t)}catch(e){return o=e,this.ok++,this.appendToLog("Success: "+o.message)}},t.prototype.assert=function(t){return this.done++,null!=t?(this.ok++,this.appendToLog("Success")):this.appendToLog("Fail: expected to be true: "+t)},t.prototype.startTest=function(t){return this.done=0,this.ok=0,this.log=["Running "+t]},t.prototype.endTest=function(){var o,e,s,n,i,r,u,p,h;if(0===this.done)return Log.i("TestUnit: You should launch at least one test"),void 0;if(n="Successes: "+this.ok+" / Total: "+this.done,this.output===t.outputs.CONSOLE){for(p=this.log,i=0,u=p.length;u>i;i++)o=p[i],console.log(o);return console.log(n)}if(this.output===t.outputs.HTML){for(s="<h2>"+this.log[0]+"</h2>",e=r=1,h=this.log.length-1;h>=1?h>=r:r>=h;e=h>=1?++r:--r)s+="<p>"+this.log[e]+"</p>";return s+='<p style="color : ',s+=this.ok===this.done?"green":"red",s+=';">'+n+"</p>",$("body").append(s)}throw new Error("You specified a bad ouput")},t}()});